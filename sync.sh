#!/bin/zsh

echo "=============================================================="
echo "Update"
echo "=============================================================="

python fix_mathblock.py

echo "=============================================================="
echo "Status"
echo "=============================================================="
git status

echo "=============================================================="
echo "Add *"
echo "=============================================================="
git add -A

echo "=============================================================="
echo "Status"
echo "=============================================================="
git status

echo "=============================================================="
echo "Commit"
echo "=============================================================="
git commit -m "update"

echo "=============================================================="
echo "Pull"
echo "=============================================================="
git pull --rebase

echo "=============================================================="
echo "Update Recent" # after pull to avoid conflicts in index.md
echo "=============================================================="
python update_recent.py
git add -A
git commit -m "update recent"

echo "=============================================================="
echo "Push"
echo "=============================================================="
git push origin main

echo "=============================================================="
echo "Done!"
echo "=============================================================="
